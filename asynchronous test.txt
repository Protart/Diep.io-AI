import pyautogui
import numpy as np
import cv2
from PIL import ImageGrab
import asyncio
pyautogui.click(773, 1051)


def hit_squares():
    square1 = pyautogui.locateOnScreen('square1.png', confidence=0.6)
    square2 = pyautogui.locateOnScreen('square2.png', confidence=0.6)
    square3 = pyautogui.locateOnScreen('square3.png', confidence=0.6)
    square4 = pyautogui.locateOnScreen('square4.png', confidence=0.6)
    square5 = pyautogui.locateOnScreen('square5.png', confidence=0.6)
    square6 = pyautogui.locateOnScreen('square6.png', confidence=0.6)
    square7 = pyautogui.locateOnScreen('square7.png', confidence=0.6)
    square8 = pyautogui.locateOnScreen('square8.png', confidence=0.6)
    square9 = pyautogui.locateOnScreen('square9.png', confidence=0.6)
    square10 = pyautogui.locateOnScreen('square10.png', confidence=0.6)
    if square1 != None:
        center_square = pyautogui.center(square1)
    pyautogui.click(center_square)
    if square2 != None:
        center_square = pyautogui.center(square2)
    pyautogui.click(center_square)
    if square3 != None:
        center_square = pyautogui.center(square3)
        pyautogui.click(center_square)
    if square4 != None:
        center_square = pyautogui.center(square4)
        pyautogui.click(center_square)
    if square5 != None:
        center_square = pyautogui.center(square5)
        pyautogui.click(center_square)
    if square6 != None:
        center_square = pyautogui.center(square6)
        pyautogui.click(center_square)
    if square7 != None:
        center_square = pyautogui.center(square7)
        pyautogui.click(center_square)
    if square8 != None:
        center_square = pyautogui.center(square8)
        pyautogui.click(center_square)
    if square9 != None:
        center_square = pyautogui.center(square9)
        pyautogui.click(center_square)
    if square10 != None:
        center_square = pyautogui.center(square10)
        pyautogui.click(center_square)


def check_for_levels():
    bullet_damage_button = pyautogui.locateOnScreen('Bullet damage button.png', confidence=0.5)
    if bullet_damage_button != None:
        pyautogui.hotkey('6')
    bullet_penetration_button = pyautogui.locateOnScreen('Bullet penetration button.png', confidence=0.5)
    if bullet_penetration_button != None:
        pyautogui.hotkey('5')
    reload_button = pyautogui.locateOnScreen('Reload button.png', confidence=0.5)
    if reload_button != None:
        pyautogui.hotkey('7')
    bullet_speed_button = pyautogui.locateOnScreen('Bullet speed button.png', confidence=0.5)
    if bullet_speed_button != None:
        pyautogui.hotkey('4')
    upgrade_button_1 = pyautogui.locateOnScreen('Upgrade1.png', confidence=0.7)
    if upgrade_button_1 != None:
        pyautogui.click(120, 175)


def hit_pentagons():
    pentagon = pyautogui.locateOnScreen('Pentagon.png', confidence=0.5)
    if pentagon != None:
        center_pentagon = pyautogui.center(pentagon)
        pyautogui.click(center_pentagon)

pyautogui.hotkey('enter')
pyautogui.hotkey('enter')

while True:
    name_box = pyautogui.locateOnScreen('name box.png', confidence=0.7)
    if name_box == None:
        hit_squares()
        hit_pentagons()
        check_for_levels()
    else:
        pyautogui.hotkey('enter')